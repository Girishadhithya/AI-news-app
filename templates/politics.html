{% extends "base.html" %}
{% block title %}The Colorful Times - Politics{% endblock %}
{% block content %}
<h2 class="text-3xl font-bold text-blue-800 mb-6">Politics News</h2>
<div id="articles" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    {# Check if articles exist and iterate over them #}
    {% if articles %}
        {% for article in articles %}
            {# Define a list of colors to cycle through for article card backgrounds #}
            {# Using 'set' for variable assignment in Jinja2 #}
            {% set colors = ['bg-gray-200', 'bg-indigo-200', 'bg-teal-200'] %} {# Example: colors for politics #}
            <div class="article-card p-6 rounded-lg shadow-lg {{ colors[loop.index0 % 3] }}">
                {# Display the article thumbnail if it exists #}
                {% if article.fields.thumbnail %}
                    <img src="{{ article.fields.thumbnail }}" alt="Article thumbnail" class="w-full h-48 object-cover rounded mb-4">
                {% endif %}
                {# Display the article headline #}
                <h3 class="text-xl font-semibold text-blue-600">{{ article.fields.headline }}</h3>
                {# Display a short summary or 'trailText' of the article #}
                <p class="text-gray-600">{{ article.fields.trailText }}</p>
                {# IMPORTANT CHANGE: Link to your internal article route using url_for #}
                {# This keeps the user on your website when they click "Read More" #}
                <a href="{{ url_for('article', article_id=article.id) }}" class="btn inline-block mt-4 bg-orange-400 text-white px-4 py-2 rounded btn-orange">Read More</a>
            </div>
        {% endfor %}
    {% else %}
        {# If no articles are available, display a message #}
        <p id="no-articles" class="text-gray-600">No politics articles available at the moment.</p>
    {% endif %}
</div>
{% endblock %}
